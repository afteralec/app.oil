function getRegisterData(){return{username:"",password:"",confirmPassword:"",pwLen:!1,pwEvalLen:!1,pwMixedCase:!1,pwEvalMixedCase:!1,pwNum:!1,pwEvalNum:!1,pwSpecialChar:!1,pwEvalSpecialChar:!1,submitData,sanitizeUsername,isUsernameValid,isPasswordValid,getPasswordStrengths}}async function submitData(u,pw,confirmpw){if(!isUsernameValid(u))return;if(!isPasswordValid(pw))return;if(pw!==confirmpw)return;const su=sanitizeUsername(u),body=new FormData;body.append("username",su),body.append("password",pw);const response=await fetch("/player/new",{method:"POST",body});console.log("response status: ",response.status)}function sanitizeUsername(u){return u.replace(/[^a-zA-Z0-9_\-]+/gi,"").toLowerCase()}function isUsernameValid(u){if(console.log(u),u.length<4)return!1;if(console.log("username long enough"),u.length>16)return!1;if(console.log("username short enough"),new RegExp("[^a-z0-9_-]+","g").test(u))return!1;return console.log("username passes regex test"),!0}function isPasswordValid(pw){if(console.log(pw),pw.length<8)return!1;if(console.log("pw long enough"),pw.length>255)return!1;return console.log("pw short enough"),!0}function getPasswordStrengths(pw){let strengths={len:!1,mixedCase:!1,num:!1,specialChar:!1};if(pw.length>8)strengths.len=!0;if(pw.match(/[a-z]/)&&pw.match(/[A-Z]/))strengths.mixedCase=!0;if(pw.match(/[0-9]/))strengths.num=!0;if(pw.match(/[^a-zA-Z\d]/))strengths.specialChar=!0;return strengths}window.getRegisterData=getRegisterData;export{submitData,sanitizeUsername,isUsernameValid,isPasswordValid,getRegisterData,getPasswordStrengths};
